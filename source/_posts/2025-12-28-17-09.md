---

title: 📝 在Hexo Butterfly博客中添加说说功能（基于LeanCloud + Artitalk）
date: '2025/12/28 17:10'
comments: true
tags:
  - 汇报工作
  - 折腾记录
  - 优化日志
categories:
  - 优化日志
  - 记录
cover: 'https://cdn.magicalapk.com/square/2d09e3e6-b6c3-4d30-b47e-476ed192eb37.jpg'
abbrlink: da37acd4

---

# *“说说”页面使用的服务*

### <span style="color: #000000ff;">**Artitalk和Leancloud服务**</span>
👇这里是这两个服务的链接
[Artitalk官方使用文档](https://artitalk.js.org/doc.html)   
[Leancloud官网](https://leancloud.app/)

---

# 🔧 *前期准备*

## 域名要求：
如果使用LeanCloud国内版，需要域名备案
如果使用LeanCloud国际版，需要绑定二级域名

## 推荐选择：
建议使用LeanCloud国际版，速度也没区别，但是你要有自己的一个域名，二级域名，免费的啥的都中，反正后面你要用到，得有才行，***不然***他会出现一个问题，就是最后你什么都弄好了之后，他会卡在加载页面出不去。
就像这样👇

---

![这是图片](https://cdn.magicalapk.com/square/9936937117778541.jpg "卡在加载动画出不去")

---

# 🌈 *第一步：注册和配置LeanCloud*

## 注册账号：
访问 [LeanCloud国际版](https://leancloud.app/)
注册账号并绑定手机号和邮箱

## 创建应用：
点击"创建应用"，名称随意
选择"开发版"

## 创建数据表：
进入"结构化数据"
创建名为 shuoshuo 的Class
创建名为 atComment 的Class（用于评论）👇

---

![](https://cdn.magicalapk.com/square/9940108164794801.jpg)

---

## 创建用户：
点击左侧"内建账户" → "用户管理" → "添加用户"
设置用户名和密码（用于发布说说）
在img项添加头像链接（可选）👇

---
![](https://cdn.magicalapk.com/square/9940349926378405.jpg)

---


## 设置权限（重要）：
### 在 shuoshuo 表中：
将 add_fields 和 create 权限设置为指定用户
建议将 delete 和 update 也设置为指定用户👇

---
![](https://cdn.magicalapk.com/square/9940692574027430.jpg)

---

### 在 _User 表中：
将所有权限设置为指定用户或数据创建者

---
![](https://cdn.magicalapk.com/square/9940790074290710.jpg)

---

### atComment 权限都给出去

---
![](https://cdn.magicalapk.com/square/9940852547168176.jpg)

## 获取凭证：
点击"设置" → "应用凭证"
记下 AppID 和 AppKey

## 设置安全域名：
点击"设置" → "安全中心" → "Web安全域名"
填入你的博客域名

# 🚀 *第二步：安装插件*

在你的Hexo博客根目录执行：
{% code lang: %}
npm install hexo-butterfly-artitalk
{% endcode %}

# 📄 *第三步：创建说说页面*

{% code lang: %}
hexo new page artitalk
{% endcode %}
注意哦，这个命令是在你的hexo博客根目录cmd下运行的

# ⚙️ *第四步：配置说说页面*

编辑 source/artitalk/index.md 文件，添加以下内容：

{% code lang:markdown %}
---
title: 说说
comments: false
---

<!-- 引用 artitalk -->
<script type="text/javascript" src="https://unpkg.com/artitalk"></script>
<!-- 存放说说的容器 -->
<div id="artitalk_main"></div>
<script>
new Artitalk({
    serverURL: 'https://你的域名', // 如果使用国内版需要填写
    appId: '你的AppID',
    appKey: '你的AppKey',
})
</script>
{% endcode %}

# 🔗 *第五步：绑定域名（国际版需要）*
在LeanCloud控制台点击"设置" → "域名绑定"
添加一个二级域名（如 artitalk.yourdomain.com）
按照提示配置DNS解析

# 🎯 *第六步：部署测试*

这一步你就三连，或者你设置了快捷键，重新部署，弄到本地4000那个页面上看看效果就好了。
一切正常就可以推送到你的仓库，然后就可以啦！！！

# *最后是数据的<span style="color: red;">备份</span>*

## 手动备份（每月/每次大改前跑一次即可）
登录 [LeanCloud 控制台](https://console.leancloud.app/apps) → 你的应用
左侧 「存储」→「结构化数据」
逐表导出： 
    选中 shuoshuo → 右上角 「导出」 → JSON → 等待生成 → 下载到本地
    同法导出 atComment、_User（勾选「包含内置字段」）
把 3 个 .json 文件重命名带日期，扔到你的网盘/Git 仓库/硬盘即可。

导出文件里含完整字段、作者、时间戳，可重新导入恢复。

---

# *尾声*

ok啊，也是把基本思路顺了一遍，反正差不多就是这样。
基本思路来自 [在butterfly主题中加入说说-mccsjs](https://seln.cn/posts/37a42b6d/)和[Artiralk使用文档](https://artitalk.js.org/doc.html)

大概就是这样，也是弄了一个好玩的东西。

主要是这样就可以在线发说说了，不用在在电脑上面写那md了！！这就很nice



